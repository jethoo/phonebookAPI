{"version":3,"sources":["Search.js","Filter.js","PersonForm.js","services/persons.js","Notification.js","App.js","index.js"],"names":["Search","searchVar","handleClick","map","person","name","number","onClick","value","id","Filter","text","onChange","PersonForm","handleNameSubmit","handleNameChange","handleNumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","delete","respone","status","put","Notification","errorMessage","successMessage","className","App","useState","persons","setPersons","call","setCall","setErrorMessage","setSuccessMessage","useEffect","PersonService","initialData","newName","setNewName","setNewNumber","search","setSearch","event","filter","toLowerCase","includes","target","preventDefault","personObject","result","find","changedPerson","window","confirm","updatedPerson","setTimeout","catch","error","returnedPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.93c9ec4d.chunk.js","sourcesContent":["import React from 'react'\n\nconst Search = ({ searchVar, handleClick }) => {\n    return (\n        searchVar.map(person => {\n            return <p key={person.name}>{person.name} {person.number} <button onClick={handleClick} value={person.id} name={person.name} key={person.id}>Delete</button></p>\n        })\n    );\n}\n\nexport default Search;","import React from 'react'\n\nconst Filter = ({text, onChange}) => {\n    return (\n        <p>{text} <input onChange={onChange} /></p>\n    );\n}\n\nexport default Filter;","import React from 'react'\n\nconst PersonForm = ({handleNameSubmit,handleNameChange,handleNumberChange}) => {\n    return (\n        <form onSubmit={handleNameSubmit}>\n            <div>\n            name: <input onChange={handleNameChange} />\n            </div>\n            <div>\n            number: <input onChange={handleNumberChange} />\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n        </form>\n    );\n}\n\nexport default PersonForm;","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst destroy = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(respone => respone.status)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\n  \nexport default { getAll, create, destroy, update }","import React from 'react'\n\nconst Notification = ({ errorMessage, successMessage }) => {\n   \n    return (\n        <div>\n            {(errorMessage == null && successMessage == null) ? null \n            : (errorMessage == null) ? <div className=\"success\">{successMessage}</div>\n            :  <div className=\"error\">{errorMessage}</div>\n            }\n        </div>\n    )   \n}\n\nexport default Notification","import React, { useEffect, useState } from 'react'\nimport Search from './Search';\nimport Filter from './Filter';\nimport PersonForm from './PersonForm';\nimport PersonService from './services/persons';\nimport Notification from './Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ call, setCall ] = useState(false) \n  const [errorMessage, setErrorMessage] = useState();\n  const [successMessage, setSuccessMessage] = useState();\n\n  useEffect(() => {\n     PersonService\n        .getAll()\n          .then(initialData => {\n            setPersons(initialData)\n          })\n  }, [])\n  \n  const [ newName, setNewName ] = useState('')\n  const [ number, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n\n  \n  const handleNameChange = (event) => {\n      setNewName(event.target.value);\n  }\n  \n  const handleNumberChange = (event) => {\n      setNewNumber(event.target.value);\n  }\n  \n  const handleSearchChange = (event) => {\n    setSearch(persons.filter(person => (person.name.toLowerCase()).includes(event.target.value.toLowerCase())))\n  }\n  \n  //check if search is empty or not\n  let searchVar = '';\n  if(search){\n    searchVar = search;\n  }else{\n    searchVar = persons;\n  }\n\n  const handleNameSubmit = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: number\n    }\n    //also check if the entered name is already present \n    //let result = persons.filter(person => person.name === newName);\n    let result = persons.find(person => person.name === newName);\n    \n    if(result != null){\n      let id =  result.id;\n      const changedPerson = { ...result, number: number}\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`))\n      {\n          PersonService\n            .update(id, changedPerson)\n              .then(updatedPerson => {\n                setSuccessMessage(\n                  `Updated Contact Number of ${newName}`\n                )\n                setTimeout(() => {\n                  setSuccessMessage(null)\n                }, 5000)\n                //update the state\n                setPersons(persons.map(person => person.id !== id ? person : updatedPerson))\n              })\n              //if promise rejected catch the error\n              .catch(error => {\n                  setErrorMessage(\n                    `Information of ${newName} has already been removed from server`\n                  )\n                  setTimeout(() => {\n                    setErrorMessage(null)\n                  }, 5000)\n              })\n      }}\n      else{\n        PersonService\n          .create(personObject)\n          .then(returnedPerson => {\n            setSuccessMessage(\n              `Added ${newName}`\n            )\n            setPersons(persons.concat(returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            //set Successmessage\n            \n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n        })\n    }\n  }\n\n  const handleDelClick = (event) => {\n    let id = event.target.value;\n    if (window.confirm(`Delete ${event.target.name} ?`)){\n      PersonService\n      .destroy(id)\n      .then(status => {\n          if(status === 200){\n            setCall(!call)\n          }\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      \n      <Notification errorMessage={errorMessage} successMessage={successMessage}/>\n      <Filter text={'filter shown with'} onChange={handleSearchChange}/>\n      <PersonForm \n            handleNameSubmit={handleNameSubmit} \n            handleNameChange={handleNameChange} \n            handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Search searchVar={searchVar} handleClick={handleDelClick}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}